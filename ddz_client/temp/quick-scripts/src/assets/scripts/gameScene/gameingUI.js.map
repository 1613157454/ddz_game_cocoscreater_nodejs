{"version":3,"sources":["assets/scripts/gameScene/gameingUI.js"],"names":["cc","Class","Component","properties","gameingUI","Node","card_prefab","Prefab","robUI","bottom_card_pos_node","playingUI_node","tipsLabel","Label","mypaiview","returnroom","clock_label","playing_clock_label","ResetUI","myglobal","socket","_socket","close","ResetUI_","cards_nods","card_width","rob_player_accountid","fapai_end","bottom_card","bottom_card_data","choose_card_data","outcar_zone","push_card_tmp","active","gameScene_script","node","parent","getComponent","i","playerNodeList","length","getChildByName","removeAllChildren","clearOutZone","accountid","gamebefore_node","emit","onLoad","onPushCards","data","console","log","JSON","stringify","card_data","cur_index_card","pushCard","isopen_sound","fapai_audioID","scheduleOnce","_runactive_pushcard","bind","onCanRobState","_accountID","playerData","accountID","string","next_time","now","funUp","schedule","onCanChuCard","onGameFinish","onOtherPlayerChuCard","outCard_node","getUserOutCardPosByAccount","node_cards","cards","card","instantiate","showCards","push","appendOtherCardsToOutZone","on","show_data","call_data","run","callFunc","target","activedata","show_card","obj","runAction","sequence","rotateBy","scaleBy","audioEngine","play","url","raw","master_accountid","pushThreeCard","event","detail","cardid","splice","start","stop","sendevent","move_node","newx","x","action","moveTo","v2","sortCard","sort","y","a","b","hasOwnProperty","value","king","timeout","setTimeout","zIndex","width","scale","di_card","position","schedulePushThreeCard","last_card_x","destoryCard","choose_card","destroy_card","j","card_id","removeFromParent","destroy","appendCardsToOutZone","updateCards","children","pushCardSort","yoffset","addChild","zPoint","cardNode","getChildren","setScale","setPosition","zeroPoint","playPushCardSound","card_name","CardsValue","one","name","onButtonClick","customData","requestRobState","qian_state","qian","buqiang","request_buchu_card","request_chu_card","err","msg","cardvalue","account","initSocket","api","login","request_re_room","roomid"],"mappings":"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","sourceRoot":"/","sourcesContent":["import myglobal from \"../mygolbal.js\"\nimport socketctr from \"../data/socket_ctr.js\"\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        gameingUI: cc.Node,\n        card_prefab:cc.Prefab,\n        robUI:cc.Node,\n        bottom_card_pos_node:cc.Node,\n        playingUI_node:cc.Node,\n        tipsLabel:cc.Label, //玩家出牌不合法的tips\n        mypaiview:cc.Node  ,\n\t\treturnroom:cc.Node,\n\t\tclock_label:cc.Label,\n\t\tplaying_clock_label:cc.Label\n\t\t\n    },\n    ResetUI(){//测试按钮\n\t\n\tmyglobal.socket._socket.close();\n\t //    myglobal.socket.request_reset(function(data){\n\t\t// \tconsole.log(\"重置游戏 返回\"+data);\n\t\t// \t//this.ResetUI_();\n\t\t// }.bind(this))\t\n\t},\n\t\n\tResetUI_(){\n\t\t//自己牌列表\n\t\tthis.cards_nods = []\n\t\tthis.card_width = 0\n\t\t//当前可以抢地主的accountid\n\t\tthis.rob_player_accountid = 0\n\t\t//发牌动画是否结束\n\t\tthis.fapai_end = false\n\t\t//底牌数组\n\t\tthis.bottom_card = []\n\t\t//底牌的json对象数据\n\t\tthis.bottom_card_data=[]\n\t\tthis.choose_card_data=[]\n\t\tthis.outcar_zone = []\n\t\t\n\t\tthis.push_card_tmp = []\n\t\t\n\t\t//this.robUI.removeAllChildren();\n\t\t this.robUI.active= false;\n\t\t this.playingUI_node.active=false;\n\t\t//cc.director.loadScene(\"gameScene\")\n\t\t\n\t\t//先清理出牌区域\n\t\t\n\t\t\n\t\tvar gameScene_script = this.node.parent.getComponent(\"gameScene\")\n\t\tfor(var i=0;i< gameScene_script.playerNodeList.length;i++){\n\t\t\tgameScene_script.playerNodeList[i].getChildByName(\"card_node\").removeAllChildren(true);\n\t\t\tthis.clearOutZone(gameScene_script.playerNodeList[i].getComponent(\"player_node\").accountid)\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tthis.bottom_card_pos_node.removeAllChildren(true);\n\t\tthis.mypaiview.removeAllChildren(true);\n\t\t\n\t\tvar gamebefore_node = this.node.parent.getChildByName(\"gamebeforeUI\")\n\t\tgamebefore_node.active=true;\n\t\tgamebefore_node.emit(\"init\")\n\t\t\n\t},\n\t \n    onLoad () {\n        //自己牌列表 \n        // this.cards_nods = []\n        // this.card_width = 0\n        // //当前可以抢地主的accountid\n        // this.rob_player_accountid = 0\n        // //发牌动画是否结束\n        // this.fapai_end = false\n        // //底牌数组\n        // this.bottom_card = []\n        // //底牌的json对象数据\n        // this.bottom_card_data=[]\n        // this.choose_card_data=[]\n        // this.outcar_zone = []\n\n        // this.push_card_tmp = []\n\t\tthis.ResetUI_();\n        //监听服务器:下发牌消息\n        myglobal.socket.onPushCards(function(data){\n            console.log(\"onPushCards\"+JSON.stringify(data))\n            this.card_data = data\n            this.cur_index_card = data.length - 1\n            this.pushCard(data)\n            if(isopen_sound){\n                //循环播放发牌音效\n               // this.fapai_audioID = cc.audioEngine.play(cc.url.raw(\"resources/sound/fapai1.mp3\"),true)\n                console.log(\"start fapai_audioID\"+this.fapai_audioID) \n            }\n             //左边移动定时器\n            this.scheduleOnce(this._runactive_pushcard.bind(this),0.3)\n            this.node.parent.emit(\"pushcard_other_event\")\n           \n        }.bind(this))\n\n        //监听服务器:通知抢地主消息,显示相应的UI\n        myglobal.socket.onCanRobState(function(data){\n            console.log(\"onCanRobState\"+JSON.stringify(data))\n            //这里需要2个变量条件：自己是下一个抢地主，2发牌动画结束\n            this.rob_player_accountid = data._accountID\n           // if(data._accountID==myglobal.playerData.accountID && this.fapai_end==true){\n\t\t    if(data._accountID==myglobal.playerData.accountID ){\n\t\t\t\t\n                this.robUI.active = true\n\t\t\t\t\n\t\t\t\tthis.clock_label.string=\"\"+(data.next_time-data.now)/1000;\n\t\t\t\tlet funUp = function(){\n\t\t\t\t\tdata.now+=1000;\n\t\t\t\t\tif(data.next_time-data.now>0){\n\t\t\t\t\t\tthis.clock_label.string=\"\"+(data.next_time-data.now)/1000;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.robUI.active = false\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.schedule(funUp);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this);\n\t\t\t\t this.schedule(funUp, 1);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n            }else{\n\t\t\t\tthis.robUI.active = false\n\t\t\t}\n          \n        }.bind(this))\n        \n        //监听服务器可以出牌消息\n        myglobal.socket.onCanChuCard(function(data){\n            console.log(\"onCanChuCard gameingUI\"+JSON.stringify(data))\n            //判断是不是自己能出牌\n            if(data._accountID==myglobal.playerData.accountID){\n                //先清理出牌区域\n                this.clearOutZone(myglobal.playerData.accountID)\n                //先把自己出牌列表置空\n                //this.choose_card_data=[]\n                //显示可以出牌的UI\n                this.playingUI_node.active = true\n                \n\t\t\t\t\n\t\t\t\tthis.playing_clock_label.string=\"\"+(data.next_time-data.now)/1000;\n\t\t\t\tlet funUp = function(){\n\t\t\t\t\tdata.now+=1000;\n\t\t\t\t\tif(data.next_time-data.now>0){\n\t\t\t\t\t\tthis.playing_clock_label.string=\"\"+(data.next_time-data.now)/1000;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.playingUI_node.active = false\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.schedule(funUp);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this);\n\t\t\t\t this.schedule(funUp, 1);\n\t\t\t\t\n            \n\t\t\t}\n\t\t\t\n\t\t\tthis.node.parent.emit(\"onCanChuCard_gameScene\",data);\n\t\t\t\n\t\t\t\n        }.bind(this))\n\n        myglobal.socket.onGameFinish(function(data){\n        \tconsole.log(\"游戏结束通知 onGameFinish:\"+data);\n        \tthis.tipsLabel.string=\"winner\"+data;\n\t\t\t//this.gameingUI.active = true;\n\t\t\tthis.ResetUI_()\n\t\t\t//cc.director.loadScene(\"gameScene\")\n\t\t\t\n        }.bind(this));  \n\n\n        //监听服务器：其他玩家出牌消息\n        myglobal.socket.onOtherPlayerChuCard(function(data){\n            //{\"accountid\":\"2357540\",\"cards\":[{\"cardid\":4,\"card_data\":{\"index\":4,\"value\":1,\"shape\":1}}]}\n            console.log(\"onOtherPlayerChuCard\"+JSON.stringify(data))\n\n            var accountid = data.accountid\n            var gameScene_script = this.node.parent.getComponent(\"gameScene\")\n            //获取出牌区域节点\n            var outCard_node = gameScene_script.getUserOutCardPosByAccount(accountid)\n            if(outCard_node==null){\n                return\n            }\n\n            var node_cards = []\n            for(var i=0;i<data.cards.length;i++){\n                var card = cc.instantiate(this.card_prefab)\n                card.getComponent(\"card\").showCards(data.cards[i].card_data,myglobal.playerData.accountID)\n                node_cards.push(card)\n            }\n            this.appendOtherCardsToOutZone(outCard_node,node_cards,0)\n\n            \n        }.bind(this))\n\n        //内部事件:显示底牌事件,data是三张底牌数据\n        this.node.on(\"show_bottom_card_event\",function(data){\n            console.log(\"----show_bottom_card_event\",+data)\n          \n            this.bottom_card_data = data\n            \n            for(var i=0;i<data.length;i++){\n                var card = this.bottom_card[i]\n                var show_data = data[i]\n                var call_data = {\n                    \"obj\":card,\n                    \"data\":show_data,\n                }\n                console.log(\"bottom show_data:\"+JSON.stringify(show_data))\n                var run =  cc.callFunc(function(target,activedata){\n                   \n                    var show_card = activedata.obj\n                    var show_data = activedata.data\n                    //console.log(\"cc.callFunc:\"+JSON.stringify(show_data))\n                    show_card.getComponent(\"card\").showCards(show_data)\n                   \n                },this,call_data)\n\n                card.runAction(cc.sequence(cc.rotateBy(0,0,180),cc.rotateBy(0.2,0,-90), run,\n                cc.rotateBy(0.2,0,-90),cc.scaleBy(1, 1.2)));\n               \n                if(isopen_sound){\n                    cc.audioEngine.play(cc.url.raw(\"resources/sound/start.mp3\")) \n                 }\n            }\n\n            //this.node.parent.emit(\"change_room_state_event\",RoomState.ROOM_PLAYING)\n            //如果自己地主，给加上三张底牌\n            if(myglobal.playerData.accountID==myglobal.playerData.master_accountid){\n                this.scheduleOnce(this.pushThreeCard.bind(this),0.2)\n            }\n            \n              \n        }.bind(this))\n\n        //注册监听一个选择牌消息 \n        this.node.on(\"choose_card_event\",function(event){\n            console.log(\"choose_card_event:\"+JSON.stringify(event))\n            var detail = event\n            this.choose_card_data.push(detail)\n        }.bind(this))\n\n        this.node.on(\"unchoose_card_event\",function(event){\n            console.log(\"unchoose_card_event:\"+ event)\n            var detail = event\n            for(var i=0;i<this.choose_card_data.length;i++){\n                if(this.choose_card_data[i].cardid==detail){\n                    this.choose_card_data.splice(i,1)\n                }\n            }\n        }.bind(this))\n\n    },\n\n    start () {\n     \n    },\n\n    //处理发牌的效果\n    _runactive_pushcard(){\n        //console.log(\"_runactive_pushcard:\"+this.cur_index_card)\n        if(this.cur_index_card < 0){\n            console.log(\"pushcard end\")\n            //发牌动画完成，显示抢地主按钮\n            //this.robUI.active = true\n            this.fapai_end = true\n            if(this.rob_player_accountid==myglobal.playerData.accountID){\n                this.robUI.active = true\n            }\n\n            if(isopen_sound){\n                //console.log(\"start fapai_audioID\"+this.fapai_audioID) \n                cc.audioEngine.stop(this.fapai_audioID)\n            }\n           \n\n              //通知gamescene节点，倒计时\n            var sendevent = this.rob_player_accountid\n            this.node.parent.emit(\"canrob_event\",sendevent)\n\n            return\n        }\n\n        //原有逻辑  \n        // var move_node = this.cards_nods[this.cur_index_card]\n        // move_node.active = true\n        // var newx = move_node.x + (this.card_width * 0.4*this.cur_index_card) - (this.card_width * 0.4)\n        // var action = cc.moveTo(0.1, cc.v2(newx, -250));\n        // move_node.runAction(action)\n        // this.cur_index_card--\n        // this.scheduleOnce(this._runactive_pushcard.bind(this),0.3)\n\n       // this.cur_index_card=0;\n        var move_node = this.cards_nods[this.cards_nods.length-this.cur_index_card-1]\n\t\tif(move_node==null)return\n        move_node.active = true\n        this.push_card_tmp.push(move_node)\n\t    if(isopen_sound)\n        this.fapai_audioID = cc.audioEngine.play(cc.url.raw(\"resources/sound/fapai1.mp3\"))\n        for(var i=0;i<this.push_card_tmp.length-1;i++){\n                var move_node = this.push_card_tmp[i]\n                var newx = move_node.x - (this.card_width * 0.4)\n                var action = cc.moveTo(0.1, cc.v2(newx, -250));\n                move_node.runAction(action)\n        }\n        \n        this.cur_index_card--\n\t\t// this._runactive_pushcard.bind(this);\n        this.scheduleOnce(this._runactive_pushcard.bind(this),0.03)\n    },\n \n    //对牌排序\n    sortCard(){\n        this.cards_nods.sort(function(x,y){\n            var a = x.getComponent(\"card\").card_data;\n            var b = y.getComponent(\"card\").card_data;\n\n            if (a.hasOwnProperty('value') && b.hasOwnProperty('value')) {\n                return  b.value-a.value;\n            }\n            if (a.hasOwnProperty('king') && !b.hasOwnProperty('king')) {\n                return -1;\n            }\n            if (!a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                return 1;\n            }\n            if (a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                return  b.king-a.king;\n            }\n        })\n        //var x = this.cards_nods[0].x;\n        //这里使用固定坐标，因为取this.cards_nods[0].xk可能排序为完成，导致x错误\n        //所以做1000毫秒的延时\n        var timeout = 1000\n        setTimeout(function(){\n            //var x = -417.6 \n            var x = this.cards_nods[0].x;\n            console.log(\"sort x:\"+ x)\n            for (let i = 0; i < this.cards_nods.length; i++) {\n                var card = this.cards_nods[i];\n                card.zIndex = i; //设置牌的叠加次序,zindex越大显示在上面\n                card.x = x + card.width * 0.4 * i;\n            }\n        }.bind(this), timeout);\n        \n       \n    },\n\n  \n    pushCard(data){\n    if (data) {\n            data.sort(function (a, b) {\n                if (a.hasOwnProperty('value') && b.hasOwnProperty('value')) {\n                    return b.value - a.value;\n                }\n                if (a.hasOwnProperty('king') && !b.hasOwnProperty('king')) {\n                    return -1;\n                }\n                if (!a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                    return 1;\n                }\n                if (a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                    return b.king - a.king;\n                }\n            });\n        }\n      //创建card预制体\n      this.cards_nods = []\n      for(var i=0;i<17;i++){\n        \n        var card = cc.instantiate(this.card_prefab)\n        card.scale=0.8\n        card.parent = this.mypaiview\n        //card.x = card.width * 0.4 * (17 - 1) * (-0.5) + card.width * 0.4 * 0;\n        card.x = card.width * 0.4 * (-0.5) * (-16) + card.width * 0.4 * 0;\n        //这里实现为，每发一张牌，放在已经发的牌最后，然后整体移动\n        card.y = -250\n        card.active = false\n\n        card.getComponent(\"card\").showCards(data[i],myglobal.playerData.accountID)\n        //存储牌的信息,用于后面发牌效果\n        this.cards_nods.push(card)\n        this.card_width = card.width\n      }\n      \n      //创建3张底牌\n      this.bottom_card = []\n      for(var i=0;i<3;i++){\n        var di_card = cc.instantiate(this.card_prefab)\n        di_card.scale=0.4\n        di_card.position.x = this.bottom_card_pos_node.position.x \n\t\tdi_card.position.y=0\n        //三张牌，中间坐标就是bottom_card_pos_node节点坐标，\n        //0,和2两张牌左右移动windth*0.4\n        if(i==0){\n            \n            di_card.x = di_card.x - di_card.width*0.4\n        }else if(i==2){\n            di_card.x = di_card.x + di_card.width*0.4\n        }\n        \n\n        //di_card.x = di_card.width-i*di_card.width-20\n        //di_card.y=60\n        di_card.parent = this.bottom_card_pos_node;// this.node.getComponent(\"gameingUI\").dizhupaiview;//this.node.getComponent(\"dizhupaiview\");//  this.node.parent\n        //存储在容器里\n        this.bottom_card.push(di_card)\n      }\n\n    },\n\n    //给玩家发送三张底牌后，过1s,把牌设置到y=-250位置效果\n    schedulePushThreeCard(){\n        for(var i=0;i<this.cards_nods.length;i++){\n            var card = this.cards_nods[i]\n            if(card.y==-230){\n                card.y = -250\n            }\n        }\n    },\n    //给地主发三张排，并显示在原有牌的后面\n    pushThreeCard(){\n        //每张牌的其实位置 \n        var last_card_x =  this.cards_nods[this.cards_nods.length-1].x\n        for(var i=0;i<this.bottom_card_data.length;i++){\n            var card = cc.instantiate(this.card_prefab)\n            card.scale=0.8\n            card.parent = this.mypaiview\n          \n            card.x = last_card_x + ((i+1)*this.card_width * 0.4)\n            card.y = -230  //先把底盘放在-230，在设置个定时器下移到-250的位置\n           \n            //console.log(\"pushThreeCard x:\"+card.x)\n            card.getComponent(\"card\").showCards(this.bottom_card_data[i],myglobal.playerData.accountID)\n            card.active = true\n            this.cards_nods.push(card)\n        }\n\n        this.sortCard()\n        //设置一个定时器，在2s后，修改y坐标为-250\n        this.scheduleOnce(this.schedulePushThreeCard.bind(this),2)\n\n    },\n\n    destoryCard(accountid,choose_card){\n        if(choose_card.length==0){\n           // return\n        }\n\n        /*出牌逻辑\n          1. 将选中的牌 从父节点中移除\n          2. 从this.cards_nods 数组中，删除 选中的牌 \n          3. 将 “选中的牌” 添加到出牌区域\n              3.1 清空出牌区域\n              3.2 添加子节点\n              3.3 设置scale\n              3.4 设置position\n          4.  重新设置手中的牌的位置  this.updateCards();\n        */\n        //1/2步骤删除自己手上的card节点 \n        var destroy_card = []\n        for(var i=0;i<choose_card.length;i++){\n            for(var j=0;j<this.cards_nods.length;j++){\n                var card_id = this.cards_nods[j].getComponent(\"card\").card_id\n                if(card_id==choose_card[i].cardid){\n                    console.log(\"destroy card id:\"+card_id)\n                    //this.cards_nods[j].destroy()\n                    this.cards_nods[j].removeFromParent(true);\n\t\t\t\t\tthis.cards_nods[j].destroy();\n                    destroy_card.push(this.cards_nods[j])\n                    this.cards_nods.splice(j,1)\n                }\n            }\n        }\n\n        this.appendCardsToOutZone(accountid,destroy_card)\n        this.updateCards()\n\n    },\n\n    //清除显示出牌节点全部子节点(就是把出牌的清空)\n    clearOutZone(accountid){\n        var gameScene_script = this.node.parent.getComponent(\"gameScene\")\n        var outCard_node = gameScene_script.getUserOutCardPosByAccount(accountid)\n\t\tif(outCard_node==null){return;}\n        var children = outCard_node.children;\n        for(var i=0;i<children.length;i++){\n            var card = children[i]; \n            card.destroy()\n        }\n        outCard_node.removeAllChildren(true);\n    },\n    //对出的牌做排序\n    pushCardSort(cards){\n        if(cards.length==1){\n            return\n        }\n        cards.sort(function(x,y){\n            var a = x.getComponent(\"card\").card_data;\n            var b = y.getComponent(\"card\").card_data;\n\n            if (a.hasOwnProperty('value') && b.hasOwnProperty('value')) {\n                return b.value - a.value;\n            }\n            if (a.hasOwnProperty('king') && !b.hasOwnProperty('king')) {\n                return -1;\n            }\n            if (!a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                return 1;\n            }\n            if (a.hasOwnProperty('king') && b.hasOwnProperty('king')) {\n                return b.king - a.king;\n            }\n        })\n    },\n\n    appendOtherCardsToOutZone(outCard_node,cards,yoffset){\n       outCard_node.removeAllChildren(true);\n\n       //console.log(\"appendOtherCardsToOutZone length\"+cards.length)\n       //添加新的子节点\n       for(var i=0;i<cards.length;i++){\n           var card = cards[i]; \n           outCard_node.addChild(card,100+i) //第二个参数是zorder,保证牌不能被遮住\n       }\n\n       //对出牌进行排序\n       //设置出牌节点的坐标\n       var zPoint = cards.length / 2;\n       //console.log(\"appendOtherCardsToOutZone zeroPoint:\"+zPoint)\n       for(var i=0;i<cards.length;i++){\n        var cardNode = outCard_node.getChildren()[i]\n        var x = (i - zPoint) * 30;\n        var y = cardNode.y+yoffset; //因为每个节点需要的Y不一样，做参数传入\n        //console.log(\"-----cardNode: x:\"+x+\" y:\"+y)\n        cardNode.setScale(0.5, 0.5);                   \n        cardNode.setPosition(x,y);                     \n\n       }\n    },\n    //将 “选中的牌” 添加到出牌区域\n    //destroy_card是玩家本次出的牌\n    appendCardsToOutZone(accountid,destroy_card){\n        if(destroy_card.length==0){\n           // return\n        }\n        //先给本次出的牌做一个排序\n       this.pushCardSort(destroy_card)\n       //console.log(\"appendCardsToOutZone\")\n       var gameScene_script = this.node.parent.getComponent(\"gameScene\")\n       //获取出牌区域节点\n       var outCard_node = gameScene_script.getUserOutCardPosByAccount(accountid)\n       this.appendOtherCardsToOutZone(outCard_node,destroy_card,360)\n       //sconsole.log(\"OutZone:\"+outCard_node.name)\n\n    },\n\n    //重新排序手上的牌,并移动\n    updateCards(){\n    \n        var zeroPoint = this.cards_nods.length / 2;\n        //var last_card_x = this.cards_nods[this.cards_nods.length-1].x\n        for(var i=0;i<this.cards_nods.length;i++){\n            var cardNode = this.cards_nods[i]\n            var x = (i - zeroPoint)*(this.card_width * 0.4);\n            cardNode.setPosition(x, -250);  \n        }\n\n    },\n    \n    playPushCardSound(card_name){\n        console.log(\"playPushCardSound:\"+card_name)\n        \n        if(card_name==\"\"){\n            return\n        }\n\n        switch(card_name){\n            case CardsValue.one.name:\n                break\n            case CardsValue.double.name:\n                    if(isopen_sound){\n                        cc.audioEngine.play(cc.url.raw(\"resources/sound/duizi.mp3\")) \n                     }\n                break  \n        }\n    },\n    // update (dt) {},\n    onButtonClick(event,customData){\n        switch(customData){\n            case \"btn_qiandz\":\n                console.log(\"btn_qiandz\")\n                myglobal.socket.requestRobState(qian_state.qian)\n                this.robUI.active = false\n                if(isopen_sound){\n                    cc.audioEngine.play(cc.url.raw(\"resources/sound/woman_jiao_di_zhu.ogg\")) \n                 }\n                break\n            case \"btn_buqiandz\":\n                console.log(\"btn_buqiandz\")\n                myglobal.socket.requestRobState(qian_state.buqiang)\n                this.robUI.active = false\n                if(isopen_sound){\n                    cc.audioEngine.play(cc.url.raw(\"resources/sound/woman_bu_jiao.ogg\")) \n                 }\n                 break    \n             case \"nopushcard\":  //不出牌\n                 myglobal.socket.request_buchu_card([],null)\n                 this.playingUI_node.active = false\n                 break\n             case \"pushcard\":   //出牌\n                 //先获取本次出牌数据\n                 if(this.choose_card_data.length==0){\n                    this.tipsLabel.string=\"请选择牌!\"\n\t\t\t\t\tthis.playingUI_node.active = true\n\t\t\t\t\t\n                    setTimeout(function(){\n                        this.tipsLabel.string=\"\"\n                    }.bind(this), 2000);\n\t\t\t\t\treturn;// 不出牌 则返回\n                 }\n                 myglobal.socket.request_chu_card(this.choose_card_data,function(err,data){\n                   \n                    if(err){\n                        console.log(\"request_chu_card:\"+err)\n                        console.log(\"request_chu_card\"+JSON.stringify(data))\n                        if(this.tipsLabel.string==\"\"){\n                            this.tipsLabel.string = data.msg\n                            setTimeout(function(){\n                                this.tipsLabel.string=\"\"\n                            }.bind(this), 2000);\n                        }\n                        \n                        //出牌失败，把选择的牌归位\n                        for(var i=0;i<this.cards_nods.length;i++){\n                            var card = this.cards_nods[i]\n                            card.emit(\"reset_card_flag\")\n                        }\n                        this.choose_card_data = []\n                     }else{\n                         //出牌成功\n                         console.log(\"resp_chu_card data:\"+JSON.stringify(data))\n                         this.playingUI_node.active = false\n                         //播放出牌的声音\n                         //resp_chu_card data:{\"account\":\"2519901\",\"msg\":\"sucess\",\"cardvalue\":{\"name\":\"Double\",\"value\":1}}\n                         //{\"type\":\"other_chucard_notify\",\"result\":0,\"data\":{\"accountid\":\"2519901\",\"cards\":[{\"cardid\":24,\"card_data\":{\"index\":24,\"value\":6,\"shape\":1}},{\"cardid\":26,\"card_data\":{\"index\":26,\"value\":6,\"shape\":3}}]},\"callBackIndex\":0}\n                         this.playPushCardSound(data.cardvalue.name)\n                         this.destoryCard(data.account,this.choose_card_data)\n                         this.choose_card_data = []\n                     \n                     }\n                    \n                 }.bind(this))\n                 //this.playingUI_node.active = false\n                 break\n             case \"tipcard\":\n                 break   \n\t\t\tcase \"returnroom\"://重新连接\n\t\t\t      \n\t\t\t\t  console.log(\"点击了 重新连接\")\n\t\t\t\t myglobal.socket.initSocket(function(){\n\t\t\t\t\t  console.log(\"初始化 成功 initSocket\")\n\t\t\t\t myglobal.api.login(function(data){\n\t\t\t\t   console.log(\"自动登录成功\")\n\t\t\t\t     var gameScene_script = this.node.parent.getComponent(\"gameScene\")\n\t\t\t         myglobal.socket.request_re_room({\"roomid\":gameScene_script.roomid},function(err,data){\n\t\t\t\t\t  //重新连接\n\t\t\t\t\t\t if(err==0){\n\t\t\t\t\t\t this.returnroom.active=false;\n\t\t\t\t\t\t console.log(\"重新进入房间 成功\"+JSON.stringify(data));\n\t\t\t\t\t\t \n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t console.log(\"重新进入房间 失败\"+err);\n\n\t\t\t\t\t\t }\n\t\t\t\t     }.bind(this))\n\t\t\t\t\n\t\t\t\t  }.bind(this))\n\t\t\t\t  }.bind(this));\n\t\t\t\t \n\t\t\t\t break \t\t  \n            default:\n                break\n        }\n    }\n\n\n});\n"]}